{"version":3,"sources":["containers/About/index.ts","containers/About/About.tsx","components/LanguageSelector/LanguageSelector.tsx","components/LanguageSelector/index.ts","components/DefaultLayout/DefaultLayout.tsx","components/DefaultLayout/index.ts"],"names":["About","props","Option","LanguageSelector","useRecoilState","langState","lang","setLang","fm","useIntl","formatMessage","dom","useMemo","Object","keys","messages","map","value","id","defaultValue","style","width","onChange","Header","SubMenu","Content","defaultStyle","Sider","height","menuStyle","display","defaultMenus","routerMeta","reduce","prev","componentKey","propsArr","assignRouteArrayProps","path","Array","isArray","getPath","match","length","pathWIthSlashLengthArr","assignPathData","prevArr","DefaultLayout","children","location","useLocation","useEffect","pathDom","pathArray","pathname","split","Item","text","className","color","theme","mode","activeKey","selectable","to","disabled","opacity","marginLeft","padding","margin","minHeight"],"mappings":"iIAAA,mBACeA,YAAf,S,gCCDA,kCAaeA,UAR+B,SAACC,GAC7C,OACE,cAAC,IAAD,sB,0NCAIC,EAAR,IAAQA,OCNOC,EDQ6B,WAC1C,MAAwBC,YAAeC,KAAvC,mBAAOC,EAAP,KAAaC,EAAb,KAEuBC,EAAOC,cAAtBC,cAEFC,EAAMC,mBAAwB,WAElC,OAD0BC,OAAOC,KAAKC,KACrBC,KAAI,SAACV,GAAD,OAAgB,cAACJ,EAAD,CAAmBe,MAAOX,EAA1B,SAAiCE,EAAG,CAAEU,GAAIZ,KAA7BA,QACjD,CAACE,IAEJ,OAAO,mBACLW,aAAcb,EACdW,MAAOX,EACPc,MAAO,CAAEC,MAAO,KAChBC,SAAU,SAACL,GACTV,EAAQU,IALL,SAOJN,K,QEXGY,GADR,IAAQC,QACR,IAAQD,QAAQE,EAAhB,IAAgBA,QAIVC,GAJN,IAAyBC,MAIJ,CACnBC,OAAQ,SAGJC,EAAY,CAEhBR,MAAO,OACPS,QAAS,QAGLC,EAAelB,OAAOC,KAAKkB,KAAYC,QAAO,SAACC,EAAaC,GAChE,IAAMC,EAAgBC,YAAsBL,IAAWG,IAC/CG,EAASD,YAAsBL,IAAWG,IAA1CG,KACRC,MAAMC,QAAQJ,GAEd,IAAMK,EAAU,SAACH,GAAD,OAAmBA,EAAKI,MAAM,SAAW,IAAIC,QAEvDC,EAAsCL,MAAMC,QAAQJ,GAAYA,EAASpB,KAAI,gBAAGsB,EAAH,EAAGA,KAAH,MAAe,CAAEA,OAAMK,OAAQF,EAAQH,OAAa,CAAEA,OAAMK,OAAQF,EAAQH,IAE/J,GAAIC,MAAMC,QAAQI,GAAyB,CACzC,IAAMC,EAAiBD,EAAuBX,QAAO,SAACa,EAAD,GAAgC,IAApBR,EAAmB,EAAnBA,KAC/D,OAAe,IADmE,EAAbK,OAE7D,GAAN,mBAAWG,GAAX,CAAoB,CAAEX,eAAcG,UAE7BQ,IAER,IACH,MAAM,GAAN,mBAAWZ,GAAX,YAAoBW,IAEpB,IAAQP,EAAiBM,EAAjBN,KACR,OAAe,IADUM,EAAXD,OAEN,GAAN,mBAAWT,GAAX,CAAiB,CAAEC,eAAcG,UAE1BJ,IAGV,IAsFYa,EApF+C,SAAC9C,GAC7D,IAAQ+C,EAAa/C,EAAb+C,SACexC,EAAOC,cAAtBC,cACFuC,EAAWC,cAEjBC,qBAAU,cAEP,CAACF,IAEJ,IAAMG,EAAUxC,mBAAQ,WACtB,IACMyC,EADeJ,EAAbK,SACmBC,MAAM,KAEjC,OAAOF,EAAUrC,KAAI,SAAAsB,GAAI,OAAI,kBAAYkB,KAAZ,WADPC,EACiDnB,EADvB,KAATmB,EAAc,IAAMA,IACRnB,GAD9B,IAACmB,OAErB,CAACR,IAEJ,OACE,oBAAQ7B,MAAOM,EAAf,UACE,eAACH,EAAD,CAAQmC,UAAU,SAAStC,MAAO,CAAEU,QAAS,QAA7C,UACE,qBAAK4B,UAAU,OAAOtC,MAAO,CAAEuC,MAAO,QAAStC,MAAO,KAAtD,SACGb,EAAG,CAAEU,GAAI,YAEZ,oBAAM0C,MAAM,OAAOC,KAAK,aAAazC,MAAOS,EAAWiC,UAAWb,EAASK,SAAUS,YAAY,EAAjG,UACGhC,EAAaf,KAAI,gBAAGmB,EAAH,EAAGA,aAAcG,EAAjB,EAAiBA,KAAjB,OAA4B,kBAAMkB,KAAN,UAC5C,eAAC,IAAD,CAAMQ,GAAI1B,EAAV,UAAiBH,EAAjB,KAAiCG,EAAjC,QAD4DA,MAI9D,kBAAMkB,KAAN,CAAmCS,UAAQ,EAAC7C,MAAO,CAAE8C,QAAS,EAAGC,WAAY,QAA7E,SACE,cAAC,EAAD,KADa,2BAKnB,4BAgCE,oBAAQ/C,MAAO,CAAEgD,QAAS,eAA1B,UACE,mBAAYhD,MAAO,CAAEiD,OAAQ,UAA7B,SACGjB,IAEH,cAAC3B,EAAD,CACEiC,UAAU,yBACVtC,MAAO,CACLgD,QAAS,GACTC,OAAQ,EACRC,UAAW,KALf,SAQGtB,aCpIED","file":"static/js/1.6a734ff8.chunk.js","sourcesContent":["import About from './About'\r\nexport default About","import DefaultLayout from \"components/DefaultLayout\";\r\nimport React, { FunctionComponent } from \"react\";\r\ninterface IAboutProps {\r\n}\r\n\r\nconst About: FunctionComponent<IAboutProps> = (props) => {\r\n  return (\r\n    <DefaultLayout>\r\n      About\r\n    </DefaultLayout>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import React, { FunctionComponent, useMemo, ReactElement } from \"react\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { useIntl } from \"react-intl\";\r\nimport langState, { messages, Lang } from \"state/lang\";\r\nimport { Select } from \"antd\";\r\nimport accountState from \"state/account\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst LanguageSelector: FunctionComponent = () => {\r\n  const [lang, setLang] = useRecoilState(langState);\r\n\r\n  const { formatMessage: fm } = useIntl();\r\n  \r\n  const dom = useMemo<ReactElement[]>(() => {\r\n    const languages: Lang[] = Object.keys(messages) as Lang[]\r\n    return languages.map((lang: Lang) => <Option key={lang} value={lang}>{fm({ id: lang })}</Option>)\r\n  }, [fm])\r\n\r\n  return <Select\r\n    defaultValue={lang}\r\n    value={lang}\r\n    style={{ width: 100 }}\r\n    onChange={(value: Lang) => {\r\n      setLang(value)\r\n    }}>\r\n    {dom}\r\n  </Select>;\r\n};\r\n\r\nexport default LanguageSelector","import LanguageSelector from './LanguageSelector'\r\nexport default LanguageSelector","import React, { FunctionComponent, useEffect, useMemo } from \"react\";\r\nimport { Layout, Menu, Breadcrumb } from \"antd\";\r\nimport { useIntl } from \"react-intl\";\r\nimport { routerMeta } from 'meta';\r\n\r\nimport {\r\n  UserOutlined,\r\n  LaptopOutlined,\r\n  NotificationOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport LanguageSelector from \"components/LanguageSelector\";\r\nimport { assignRouteArrayProps } from \"utils\";\r\n\r\nconst { SubMenu } = Menu;\r\nconst { Header, Content, Sider } = Layout;\r\n\r\ninterface IDefaultLayoutProps {}\r\n\r\nconst defaultStyle = {\r\n  height: \"100%\",\r\n};\r\n\r\nconst menuStyle = {\r\n  // marginLeft: 20,\r\n  width: '100%',\r\n  display: 'flex'\r\n}\r\n\r\nconst defaultMenus = Object.keys(routerMeta).reduce((prev: any[], componentKey: string) => {\r\n  const propsArr: any = assignRouteArrayProps(routerMeta[componentKey])\r\n  const { path } = assignRouteArrayProps(routerMeta[componentKey])\r\n  Array.isArray(propsArr)\r\n\r\n  const getPath = (path: string) => (path.match(/\\//gi) || []).length\r\n\r\n  const pathWIthSlashLengthArr: any | any[] = Array.isArray(propsArr) ? propsArr.map(({ path }) => ({ path, length: getPath(path) })) : ({ path, length: getPath(path) })\r\n\r\n  if (Array.isArray(pathWIthSlashLengthArr)) {\r\n    const assignPathData = pathWIthSlashLengthArr.reduce((prevArr, { path, length }) => {\r\n      if (length === 1) {\r\n        return [...prevArr, { componentKey, path }]\r\n      } else {\r\n        return prevArr\r\n      }\r\n    }, [])\r\n    return [...prev, ...assignPathData]\r\n  } else {\r\n    const { path, length } = pathWIthSlashLengthArr\r\n    if (length === 1) {\r\n      return [...prev, { componentKey, path }]\r\n    } else {\r\n      return prev\r\n    }\r\n  }\r\n}, [])\r\n\r\nconst DefaultLayout: FunctionComponent<IDefaultLayoutProps> = (props) => {\r\n  const { children } = props;\r\n  const { formatMessage: fm } = useIntl();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    console.log('pathname', location.pathname)\r\n  }, [location])\r\n\r\n  const pathDom = useMemo(() => {\r\n    const { pathname } = location\r\n    const pathArray = pathname.split('/')\r\n    const emptyToSpace = (text: string) => text === '' ? ' ' : text\r\n    return pathArray.map(path => <Breadcrumb.Item key={path}>{emptyToSpace(path)}</Breadcrumb.Item>)\r\n  }, [location])\r\n\r\n  return (\r\n    <Layout style={defaultStyle}>\r\n      <Header className=\"header\" style={{ display: \"flex\" }}>\r\n        <div className=\"logo\" style={{ color: \"white\", width: 200 }}>\r\n          {fm({ id: \"title\" })}\r\n        </div>\r\n        <Menu theme=\"dark\" mode=\"horizontal\" style={menuStyle} activeKey={location.pathname} selectable={false}>\r\n          {defaultMenus.map(({ componentKey, path }) => <Menu.Item key={path}>\r\n            <Link to={path}>{componentKey} ({path})</Link>\r\n          </Menu.Item>)}\r\n\r\n          <Menu.Item key=\"language-selector\" disabled style={{ opacity: 1, marginLeft: 'auto' }}>\r\n            <LanguageSelector />\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Header>\r\n      <Layout>\r\n        {/* <Sider width={200} className=\"site-layout-background\">\r\n          <Menu\r\n            mode=\"inline\"\r\n            defaultSelectedKeys={[\"1\"]}\r\n            defaultOpenKeys={[\"sub1\"]}\r\n            style={{ height: \"100%\", borderRight: 0 }}\r\n          >\r\n            <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"subnav 1\">\r\n              <Menu.Item key=\"1\">option1</Menu.Item>\r\n              <Menu.Item key=\"2\">option2</Menu.Item>\r\n              <Menu.Item key=\"3\">option3</Menu.Item>\r\n              <Menu.Item key=\"4\">option4</Menu.Item>\r\n            </SubMenu>\r\n            <SubMenu key=\"sub2\" icon={<LaptopOutlined />} title=\"subnav 2\">\r\n              <Menu.Item key=\"5\">option5</Menu.Item>\r\n              <Menu.Item key=\"6\">option6</Menu.Item>\r\n              <Menu.Item key=\"7\">option7</Menu.Item>\r\n              <Menu.Item key=\"8\">option8</Menu.Item>\r\n            </SubMenu>\r\n            <SubMenu\r\n              key=\"sub3\"\r\n              icon={<NotificationOutlined />}\r\n              title=\"subnav 3\"\r\n            >\r\n              <Menu.Item key=\"9\">option9</Menu.Item>\r\n              <Menu.Item key=\"10\">option10</Menu.Item>\r\n              <Menu.Item key=\"11\">option11</Menu.Item>\r\n              <Menu.Item key=\"12\">option12</Menu.Item>\r\n            </SubMenu>\r\n          </Menu>\r\n        </Sider> */}\r\n        <Layout style={{ padding: \"0 24px 24px\" }}>\r\n          <Breadcrumb style={{ margin: \"16px 0\" }}>\r\n            {pathDom}\r\n          </Breadcrumb>\r\n          <Content\r\n            className=\"site-layout-background\"\r\n            style={{\r\n              padding: 24,\r\n              margin: 0,\r\n              minHeight: 280,\r\n            }}\r\n          >\r\n            {children}\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default DefaultLayout;\r\n","import DefaultLayout from './DefaultLayout'\r\nexport default DefaultLayout"],"sourceRoot":""}